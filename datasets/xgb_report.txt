[19:46:19] Righe valide dopo dropna: 250/250
  Totale righe:   250
  WIN rate:       49.6%
  UP rate:        50.0%  (DOWN: 50.0%)
  Confidence avg: 0.617
  RSI14 avg:      50.4
  Tech score avg: 0.56
  Impara a predire la direzione BTC dai dati di mercato,
  indipendentemente dal segnale LLM.

  Feature Importance (direzione):
  Feature                    Importance
  --------------------------------------
  technical_score            0.2824  ███████████
  technical_bias_bullish     0.2650  ██████████
  fear_greed_value           0.1438  █████
  confidence                 0.1058  ████
  signal_fg_fear             0.0728  ██
  rsi14                      0.0659  ██
  hour_utc                   0.0643  ██
  ema_trend_up               0.0000  
  signal_technical_buy       0.0000  
  signal_sentiment_pos       0.0000  
  signal_volume_high         0.0000  

  Classification Report:
              precision    recall  f1-score   support

        DOWN      0.961     0.976     0.968       125
          UP      0.976     0.960     0.968       125

    accuracy                          0.968       250
   macro avg      0.968     0.968     0.968       250
weighted avg      0.968     0.968     0.968       250

  Confusion Matrix (DOWN/UP):
    Pred→  DOWN   UP
    DOWN    122     3
    UP        5   120
  Dati le stesse features, il segnale LLM sarà corretto?
  Utile come filtro di qualità: bet solo se XGB dice 'correct'.

  Feature Importance (correttezza):
  Feature                    Importance
  --------------------------------------
  confidence                 0.1702  ██████
  rsi14                      0.1689  ██████
  technical_score            0.1496  █████
  hour_utc                   0.1483  █████
  signal_fg_fear             0.1360  █████
  fear_greed_value           0.1241  ████
  technical_bias_bullish     0.1029  ████
  ema_trend_up               0.0000  
  signal_technical_buy       0.0000  
  signal_sentiment_pos       0.0000  
  signal_volume_high         0.0000  

  Classification Report:
              precision    recall  f1-score   support

       WRONG      0.944     0.944     0.944       126
     CORRECT      0.944     0.944     0.944       124

    accuracy                          0.944       250
   macro avg      0.944     0.944     0.944       250
weighted avg      0.944     0.944     0.944       250

  Binning per confidence — mostra se confidence è calibrata:
  Bucket          N   WinRate    AvgConf
  ----------------------------------------
  [0.50,0.55)    45     44.4%      0.514
  [0.55,0.60)    44     47.7%      0.566
  [0.60,0.62)    29     48.3%      0.600
  [0.62,0.65)    36     52.8%      0.624
  [0.65,0.70)    44     50.0%      0.661
  [0.70,0.80)    50     54.0%      0.727
   Ora     N   WinRate   Direzione
  -----------------------------------
     0h    14     28.6%      64.3%UP
     1h     5     40.0%      20.0%UP
     2h     6     50.0%       0.0%UP
     3h     6     66.7%       0.0%UP
     4h     5     60.0%       0.0%UP
     5h    11     27.3%      45.5%UP
     6h    14     57.1%      35.7%UP
     7h     5     20.0%      20.0%UP
     8h     7     71.4%      71.4%UP
     9h     9     44.4%      44.4%UP
    10h    16     43.8%      68.8%UP
    11h     6     50.0%      66.7%UP
    12h    12     41.7%      50.0%UP
    13h    17     58.8%      47.1%UP
    14h    13     53.8%      30.8%UP
    15h    18     55.6%      44.4%UP
    16h    16     37.5%      50.0%UP
    17h    17     47.1%      82.4%UP
    18h    10     70.0%      80.0%UP
    19h     3     33.3%       0.0%UP
    20h     3     33.3%       0.0%UP
    21h    14     64.3%      85.7%UP
    22h    16     56.2%      68.8%UP
    23h     7     57.1%      14.3%UP
  ✅ Direction model accuracy 83.2% > 55% — le features hanno potere predittivo
  ⚠️  Correctness model accuracy 46.8% ≤ 55% — LLM non più prevedibile delle features

  Prossimi step:
  1. Integra correctness_model in /bet-sizing per ridurre size se XGB=WRONG
  2. Usa direction_model come secondo voto: bet solo se LLM+XGB concordano
  3. Rigenera dataset ogni 2 settimane con build_dataset.py