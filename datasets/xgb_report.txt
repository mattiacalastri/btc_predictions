[00:01:20] Righe valide dopo dropna: 294/294
  Totale righe:   294
  WIN rate:       51.4%
  UP rate:        50.0%  (DOWN: 50.0%)
  Confidence avg: 0.617
  RSI14 avg:      50.0
  Tech score avg: 0.47
  Impara a predire la direzione BTC dai dati di mercato,
  indipendentemente dal segnale LLM.

  Feature Importance (direzione):
  Feature                    Importance
  --------------------------------------
  technical_score            0.2718  ██████████
  technical_bias_bullish     0.1655  ██████
  fear_greed_value           0.1509  ██████
  confidence                 0.1442  █████
  signal_fg_fear             0.1327  █████
  rsi14                      0.0709  ██
  hour_utc                   0.0640  ██
  ema_trend_up               0.0000  
  signal_technical_buy       0.0000  
  signal_sentiment_pos       0.0000  
  signal_volume_high         0.0000  

  Classification Report:
              precision    recall  f1-score   support

        DOWN      0.960     0.973     0.966       147
          UP      0.972     0.959     0.966       147

    accuracy                          0.966       294
   macro avg      0.966     0.966     0.966       294
weighted avg      0.966     0.966     0.966       294

  Confusion Matrix (DOWN/UP):
    Pred→  DOWN   UP
    DOWN    143     4
    UP        6   141
  Dati le stesse features, il segnale LLM sarà corretto?
  Utile come filtro di qualità: bet solo se XGB dice 'correct'.

  Feature Importance (correttezza):
  Feature                    Importance
  --------------------------------------
  rsi14                      0.1811  ███████
  confidence                 0.1620  ██████
  hour_utc                   0.1577  ██████
  technical_score            0.1423  █████
  signal_fg_fear             0.1243  ████
  fear_greed_value           0.1195  ████
  technical_bias_bullish     0.1131  ████
  ema_trend_up               0.0000  
  signal_technical_buy       0.0000  
  signal_sentiment_pos       0.0000  
  signal_volume_high         0.0000  

  Classification Report:
              precision    recall  f1-score   support

       WRONG      0.908     0.902     0.905       143
     CORRECT      0.908     0.914     0.911       151

    accuracy                          0.908       294
   macro avg      0.908     0.908     0.908       294
weighted avg      0.908     0.908     0.908       294

  Binning per confidence — mostra se confidence è calibrata:
  Bucket          N   WinRate    AvgConf
  ----------------------------------------
  [0.50,0.55)    52     48.1%      0.513
  [0.55,0.60)    51     47.1%      0.566
  [0.60,0.62)    29     48.3%      0.600
  [0.62,0.65)    43     58.1%      0.622
  [0.65,0.70)    50     46.0%      0.661
  [0.70,0.80)    64     57.8%      0.730
   Ora     N   WinRate   Direzione
  -----------------------------------
     0h    12     25.0%      75.0%UP
     1h     5     20.0%      20.0%UP
     2h     6     83.3%       0.0%UP
     3h     5     60.0%       0.0%UP
     4h     7     71.4%       0.0%UP
     5h    10     30.0%      50.0%UP
     6h    11     63.6%      45.5%UP
     7h     9     33.3%      11.1%UP
     8h     8     50.0%      62.5%UP
     9h     9     55.6%      44.4%UP
    10h    17     52.9%      64.7%UP
    11h     5     60.0%      80.0%UP
    12h    12     33.3%      50.0%UP
    13h    17     47.1%      47.1%UP
    14h    13     38.5%      30.8%UP
    15h    16     68.8%      50.0%UP
    16h    14     35.7%      57.1%UP
    17h    21     52.4%      66.7%UP
    18h    17     64.7%      64.7%UP
    19h    16     31.2%      37.5%UP
    20h    13     61.5%      38.5%UP
    21h    19     73.7%      84.2%UP
    22h    24     58.3%      62.5%UP
    23h     8     50.0%      12.5%UP
  ✅ Direction model accuracy 83.3% > 55% — le features hanno potere predittivo
  ⚠️  Correctness model accuracy 51.7% ≤ 55% — LLM non più prevedibile delle features

  Prossimi step:
  1. Integra correctness_model in /bet-sizing per ridurre size se XGB=WRONG
  2. Usa direction_model come secondo voto: bet solo se LLM+XGB concordano
  3. Rigenera dataset ogni 2 settimane con build_dataset.py