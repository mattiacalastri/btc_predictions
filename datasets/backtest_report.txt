â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
  BTC Prediction Bot â€” Walk-Forward Backtest  2026-02-24 21:29:59
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[1/5] Fetching bet da Supabase...
  Bet totali con pnl_usd: 143
  Periodo: 2026-02-22 â†’ 2026-02-24

[2/5] Walk-forward split (train 70% / test 30%)
  TRAIN: 100 bet  (2026-02-22 â†’ 2026-02-23)
  TEST:  43  bet  (2026-02-23  â†’ 2026-02-24)
  WR train: 53.0%  |  WR test: 51.2%

[3/5] Calcolo parametri da TRAIN set...
  Dead hours (WR < 45% su train): [5, 12, 13, 15, 18, 19, 22]
  XGB direction: CV acc 92.0%

[4/5] Simulazione strategie su TEST set (43 bet)...

[5/5] Risultati walk-forward (test set: 43 bet)

  Strategia             N      WR         PnL     $/bet     MaxDD     PF  Sortino   Sharpe
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  A_BASELINE            43   51.2%    +$0.2477  +$0.0058  -$2.2223   1.05     0.18     0.11
  B_CONF_062            35   57.1%    +$1.3488  +$0.0385  -$1.2033   1.40     0.97     0.65
  C_CONF_065            30   60.0%    +$1.4116  +$0.0471  -$1.1405   1.46     1.06     0.69
  D_DEAD_HOURS          31   54.8%    +$0.5414  +$0.0175  -$1.2033   1.17     0.40     0.28
  E_XGB_GATE            30   56.7%    +$0.3677  +$0.0123  -$1.4216   1.13     0.29     0.23
  F_FULL_STACK          26   53.8%    -$0.4397  -$0.0169  -$1.4216   0.83    -0.36    -0.31 â—€ CURRENT

  PnL comparativo:
  BASELINE       +â”‚â–ˆâ–ˆâ–ˆ                 â”‚ +$0.2477
  CONF_062       +â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â”‚ +$1.3488
  CONF_065       +â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚ +$1.4116
  DEAD_HOURS     +â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ             â”‚ +$0.5414
  XGB_GATE       +â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ               â”‚ +$0.3677
  FULL_STACK     -â”‚â–‘â–‘â–‘â–‘â–‘â–‘              â”‚ -$0.4397

  ğŸ† Miglior strategia sul test set: C_CONF_065 (PnL +$1.4116)

  Confidence bucket su TEST set (con calibration check):
  Bucket           N    ExpWR    ActWR    Delta         PnL     $/bet
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  [0.60,0.62)     8    60.0%    25.0%   -35.0%    -$1.1011  -$0.1376
  [0.62,0.65)     5    62.2%    40.0%   -22.2%    -$0.0628  -$0.0126
  [0.65,0.70)    11    66.4%    63.6%    -2.7%    -$0.1696  -$0.0154
  [0.70,1.01)    19    72.1%    57.9%   -14.2%    +$1.5812  +$0.0832

  WR per ora UTC su TEST set (tutte le 24h):
   Ora     N      WR        PnL  Note
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     0h     5   20.0%   -$1.1854  
     1h     4   75.0%   +$0.0486  âœ… HOT
     2h     4   50.0%   +$0.2562  
     3h     4  100.0%   +$0.7192  âœ… HOT
     4h     â€”      â€”%        â€”
     5h     â€”      â€”%        â€”
     6h     â€”      â€”%        â€”
     7h     â€”      â€”%        â€”
     8h     1  100.0%   +$0.0879  * few
     9h     1  100.0%   -$0.0003  * few
    10h     3   33.3%   -$0.2510  
    11h     â€”      â€”%        â€”
    12h     2   50.0%   +$0.0967  ğŸ’€ DEAD
    13h     â€”      â€”%        â€”
    14h     2   50.0%   -$0.0241  * few
    15h     2  100.0%   +$0.7107  ğŸ’€ DEAD
    16h     2   50.0%   +$0.7627  * few
    17h     â€”      â€”%        â€”
    18h     â€”      â€”%        â€”
    19h     â€”      â€”%        â€”
    20h     3    0.0%   -$1.0755  
    21h     6   33.3%   +$0.1016  
    22h     â€”      â€”%        â€”
    23h     4   50.0%   +$0.0004  

  Streak analysis (BASELINE, cronologico):
  Max win streak: 9  |  Max loss streak: 5

  Note:
  â€¢ Train: 100 bet, Test: 43 bet (split 70%/30% cronologico)
  â€¢ pnl_usd da Supabase include entry+exit fee per bet recenti
  â€¢ XGB addestrato SOLO su train set (no data leakage)
  â€¢ Dead hours calcolate SOLO da train set
  â€¢ Bet skippate contano come $0 (no gain, no loss)
  â€¢ Soglia confidence: 0.62
  â€¢ PF = Profit Factor (gross_profit / gross_loss). PF > 1.5 = buono
  â€¢ Sortino penalizza solo downside volatility (vs Sharpe che penalizza tutto)
  â€¢ XGB CV accuracy su train: 92.0%


  Generated: 2026-02-24 21:29:59